ETL TAXI FUEL:

-- CREATE TABLE Vehiculo (
    id INT PRIMARY KEY AUTO_INCREMENT,
    YEAR INT,
    Manufacturer VARCHAR(255),
    Model VARCHAR(255),
    cylinders INT,
    displ FLOAT,
    drive VARCHAR(255),
    engId INT,
    eng_dscr VARCHAR(255),
    fuelType VARCHAR(255),
    fuelType1 VARCHAR(255),
    fuelType2 VARCHAR(255),
    trany VARCHAR(255),
    tCharger VARCHAR(255),
    sCharger VARCHAR(255),
    atvType VARCHAR(255),
    evMotor VARCHAR(255),
    mfrCode VARCHAR(255),
    c240Dscr VARCHAR(255),
    c240bDscr VARCHAR(255),
    startStop VARCHAR(255),
    createdOn DATE,
    modifiedOn DATE
);

-- Tabla Consumo de Combustible
CREATE TABLE ConsumoCombustible (
    id INT PRIMARY KEY AUTO_INCREMENT,
    vehiculo_id INT,
    barrels08 FLOAT,
    barrelsA08 FLOAT,
    city08 FLOAT,
    city08U FLOAT,
    cityA08 FLOAT,
    cityA08U FLOAT,
    cityCD FLOAT,
    cityE FLOAT,
    cityUF FLOAT,
    comb08 FLOAT,
    comb08U FLOAT,
    combA08 FLOAT,
    combA08U FLOAT,
    combE FLOAT,
    combinedCD FLOAT,
    combinedUF FLOAT,
    highway08 FLOAT,
    highway08U FLOAT,
    highwayA08 FLOAT,
    highwayA08U FLOAT,
    highwayCD FLOAT,
    highwayE FLOAT,
    highwayUF FLOAT,
    UCity FLOAT,
    UCityA FLOAT,
    UHighway FLOAT,
    UHighwayA FLOAT,
    youSaveSpend FLOAT,
    FOREIGN KEY (vehiculo_id) REFERENCES Vehiculo(id)
);

-- Tabla Emisiones
CREATE TABLE Emisiones (
    id INT PRIMARY KEY AUTO_INCREMENT,
    vehiculo_id INT,
    co2 FLOAT,
    co2A FLOAT,
    co2TailpipeAGpm FLOAT,
    co2TailpipeGpm FLOAT,
    ghgScore FLOAT,
    ghgScoreA FLOAT,
    phevCity FLOAT,
    FOREIGN KEY (vehiculo_id) REFERENCES Vehiculo(id)
);

-- Tabla Rango de Conducción
CREATE TABLE RangoConduccion (
    id INT PRIMARY KEY AUTO_INCREMENT,
    vehiculo_id INT,
    Range_ FLOAT,
    rangeCity FLOAT,
    rangeCityA FLOAT,
    rangeHwy FLOAT,
    rangeHwyA FLOAT,
    rangeA FLOAT,
    FOREIGN KEY (vehiculo_id) REFERENCES Vehiculo(id)
);

-- Tabla Costos y Capacidad
CREATE TABLE CostosCapacidad (
    id INT PRIMARY KEY AUTO_INCREMENT,
    vehiculo_id INT,
    fuelCost08 FLOAT,
    fuelCostA08 FLOAT,
    hlv FLOAT,
    hpv FLOAT,
    lv2 FLOAT,
    lv4 FLOAT,
    mpgData VARCHAR(255),
    guzzler VARCHAR(255),
    FOREIGN KEY (vehiculo_id) REFERENCES Vehiculo(id)
);


ETL TAXI 2023:

-- Tabla TaxiZone (Zona de Taxi)
CREATE TABLE TaxiZone (
    PULocationID INT PRIMARY KEY,
    Borough VARCHAR(255),
    Zone VARCHAR(255),
    Service_Zone VARCHAR(255)
);

-- Tabla TaxiTrip (Viaje de Taxi)
CREATE TABLE TaxiTrip (
    trip_id INT PRIMARY KEY AUTO_INCREMENT,
    PULocationID INT,
    DOLocationID INT,
    Passenger_Count INT,
    Trip_Distance FLOAT,
    RatecodeID INT,
    Store_and_fwd_flag VARCHAR(255),
    Total_Amount FLOAT,
    Date_pickup DATE,
    Time_pickup TIME,
    Date_dropoff DATE,
    Time_dropoff TIME,
    FOREIGN KEY (PULocationID) REFERENCES TaxiZone(PULocationID),
    FOREIGN KEY (DOLocationID) REFERENCES TaxiZone(PULocationID)
);

ETL ELECTRICO VS GASOLINA:

CREATE TABLE EV_Pricing_Detail (
    EV_Price VARCHAR(50) PRIMARY KEY
);

CREATE TABLE Station (
    ID INT PRIMARY KEY AUTO_INCREMENT,
    Station_Name VARCHAR(255),
    Street_Address VARCHAR(255),
    City VARCHAR(255),
    State VARCHAR(255),
    ZIP VARCHAR(10),
    Station_Phone VARCHAR(20),
    Latitude DECIMAL(10, 8),
    Longitude DECIMAL(11, 8),
    EV_Price VARCHAR(50),
    FOREIGN KEY (EV_Price) REFERENCES EV_Pricing_Detail(EV_Price)
);


ETL CONTAMINACION:
-- Tabla para Contaminantes
CREATE TABLE Contaminantes (
    PollutantID INT PRIMARY KEY,
    Name VARCHAR(255),
    Description VARCHAR(255)
);

-- Tabla para Unidad de Medida
CREATE TABLE UnidadMedida (
    MeasureInfoID INT PRIMARY KEY,
    Unit VARCHAR(50)
);

-- Tabla para Lugares Geográficos
CREATE TABLE LugaresGeograficos (
    GeoPlaceID INT PRIMARY KEY,
    Name VARCHAR(255)
);

-- Tabla para Años
CREATE TABLE Anios (
    YearID INT PRIMARY KEY,
    Year INT
);

-- Tabla para Mediciones
CREATE TABLE Mediciones (
    MeasurementID INT PRIMARY KEY,
    ContaminanteID INT,
    MeasureInfoID INT,
    GeoPlaceID INT,
    YearID INT,
    Value FLOAT,
    FOREIGN KEY (ContaminanteID) REFERENCES Contaminantes(PollutantID),
    FOREIGN KEY (MeasureInfoID) REFERENCES UnidadMedida(MeasureInfoID),
    FOREIGN KEY (GeoPlaceID) REFERENCES LugaresGeograficos(GeoPlaceID),
    FOREIGN KEY (YearID) REFERENCES Anios(YearID)
);

